(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/luckDraw/luckDraw"],{"05dc":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{num:0,prize_list:[{image:"/static/xiexie.png",name:"谢谢参与"},{image:"/static/alljinbi.png",name:"100金币"},{image:"/static/quan.png",name:"1次"},{image:"/static/alljinbi.png",name:"500金币"},{image:"/static/rmb.png",name:"100元现金"},{image:"/static/alljinbi.png",name:"50金币"},{image:"/static/xiexie.png",name:"谢谢参与"},{image:"/static/quan.png",name:"3次"},{image:"/static/rmb.png",name:"50元现金"},{image:"/static/quan.png",name:"2次"},{image:"/static/rmb.png",name:"30元现金"},{image:"/static/alljinbi.png",name:"200金币"}],rotate_angle:0,rotate_transition:"transform 6s ease-in-out",click_flag:!0,rand_circle:10,start_rotating_degree:0,val:"",isPrize:!1,prizeText:"谢谢参与",prizeBtn:"返回抽奖",result_angle:[15,45,75,105,135,165,195,225,255,285,315,345],prize_people:["恭喜DFG225D抽中30元红包","恭喜E42VS22抽中50元红包","恭喜E746A4G抽中100元红包","恭喜ERGA561抽中30元红包","恭喜AG4465S抽中50元红包","恭喜ASDGA16抽中100元红包","恭喜RTJET6H抽中30元红包","恭喜BDG1N64抽中50元红包","恭喜ERYH6ZD抽中100元红包","恭喜F1S6T1B抽中30元红包","恭喜AGE11WE抽中50元红包","恭喜AERG46D抽中100元红包"],autoplay:!1}},methods:{prizeRule:function(){var e=t.getSubNVueById("showRule");e.show("slide-in-top",200),t.$emit("websrc",this.websiteUrl)},rotate_handle:function(){var e=this.$store.state.isLogin;this.$store.state.userInfo.userId;e?this.click_flag&&0!=this.num&&(this.click_flag=!1,this.requestData()):t.navigateTo({url:"/pages/login/login",animationType:"slide-in-bottom"})},rotating:function(){var t,e=5;t=this.val;var i=this.start_rotating_degree+360*this.rand_circle+this.result_angle[t]-this.start_rotating_degree%360;this.start_rotating_degree=i,this.rotate_angle="rotate("+i+"deg)";var a=this;setTimeout(function(){a.click_flag=!0,a.game_over()},1e3*e+1500)},game_over:function(){"谢谢参与"==this.prize_list[this.val].name?this.isPrize=!1:this.isPrize=!0;var e=t.getSubNVueById("hasPrize");e.show("slide-in-top",200),t.$emit("is-prize",this.isPrize),this.requestTimer()},requestData:function(){var e=this,i=this.$store.state.userInfo.userId;t.request({url:this.websiteUrl+"/api/lottery/getprize",method:"GET",data:{userId:i},success:function(t){0==t.data.status?e.val=t.data.result:e.val=11,e.rotating()},fail:function(){},complete:function(){}})},requestTimer:function(){var e=this,i=this.$store.state.userInfo.userId;i||(i=""),t.request({url:this.websiteUrl+"/api/task/lotterycount",method:"GET",data:{userId:i},success:function(t){0==t.data.status&&(e.num=t.data.result)},fail:function(){},complete:function(){}})},requestPrize:function(){var e=this;t.request({url:this.websiteUrl+"/api/lottery/prizes",method:"GET",data:{},success:function(t){0==t.data.status&&(e.prize_list=t.data.result)},fail:function(){},complete:function(){}})}},onShow:function(){this.requestTimer(),this.autoplay=!this.autoplay},onHide:function(){this.autoplay=!this.autoplay},onLoad:function(){this.requestPrize()},onUnload:function(){this.autoplay=!this.autoplay}};e.default=i}).call(this,i("6e42")["default"])},"45a1":function(t,e,i){"use strict";i.r(e);var a=i("05dc"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},"45e8":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"9f02":function(t,e,i){"use strict";(function(t){i("c5e3"),i("921b");a(i("66fd"));var e=a(i("c1a8"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])},b495:function(t,e,i){},c1a8:function(t,e,i){"use strict";i.r(e);var a=i("45e8"),n=i("45a1");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("d7c9");var r=i("2877"),u=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=u.exports},d7c9:function(t,e,i){"use strict";var a=i("b495"),n=i.n(a);n.a}},[["9f02","common/runtime","common/vendor"]]]);