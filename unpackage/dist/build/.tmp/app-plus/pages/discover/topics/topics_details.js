(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/discover/topics/topics_details"],{"08d6":function(t,e,i){"use strict";i.r(e);var n=i("0d23"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=s.a},"0b8e":function(t,e,i){"use strict";var n=i("76a2"),s=i.n(n);s.a},"0d23":function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a(i("bfa0"));function a(t){return t&&t.__esModule?t:{default:t}}var o=function(){return i.e("pages/discover/topics/input_detail").then(i.bind(null,"e85d"))},r=function(){return i.e("pages/playPage/commentItem").then(i.bind(null,"0322"))},c=i("2088"),u={data:function(){return{scrollTop:0,commentListShow:!0,style:{pageHeight:0,contentViewHeight:0},vodId:"",topic:{},film_details:{},commentData:[],movieArr:[],current:0,unknow:"未知"}},components:{input_detail:o,commItem:r},onNavigationBarButtonTap:function(e){var i=this,a=this.$store.state.isLogin;if(a){var o={href:"http://47.98.171.179:8080/download_page/download.html",title:'幻影国际，随时随地抢"鲜"看！',desc:"精彩大片抢先看",imgUrl:"/static/98Code.png"},r=this,c=this.$store.state.userInfo.loginToken;this.shareObj=(0,s.default)(o,function(e){console.log(n("点击按钮的序号: "+e," at pages\\discover\\topics\\topics_details.vue:103"));var i={href:o.href||"",title:o.title||"",summary:o.desc||"",success:function(e){console.log(n("success:"+JSON.stringify(e)," at pages\\discover\\topics\\topics_details.vue:109")),r.$nextTick(function(){r.shareObj.alphaBg.hide(),r.shareObj.shareMenu.hide()}),t.request({url:r.websiteUrl+"/api/share/point",method:"GET",header:{Authorization:c},data:{},success:function(e){0==e.data.status?console.log(n(e," at pages\\discover\\topics\\topics_details.vue:123")):1001==e.data.status&&(t.showToast({title:e.data.message,icon:"none",mask:!0}),setTimeout(function(){t.hideToast(),t.navigateTo({url:"/pages/login/login",animationType:"slide-in-top"})},300))},fail:function(){},complete:function(){}})},fail:function(e){console.log(n("fail:"+JSON.stringify(e)," at pages\\discover\\topics\\topics_details.vue:144")),r.$nextTick(function(){r.shareObj.alphaBg.hide(),r.shareObj.shareMenu.hide()}),t.request({url:r.websiteUrl+"/api/share/point",method:"GET",header:{Authorization:c},data:{},success:function(e){0==e.data.status?console.log(n(e," at pages\\discover\\topics\\topics_details.vue:158")):1001==e.data.status&&(t.showToast({title:e.data.message,icon:"none",mask:!0}),setTimeout(function(){t.hideToast(),t.navigateTo({url:"/pages/login/login",animationType:"slide-in-top"})},300))},fail:function(){},complete:function(){}})}};switch(e){case 0:i.provider="weixin",i.scene="WXSceneSession",i.type=0,i.imageUrl=o.imgUrl||"",t.share(i);break;case 1:i.provider="weixin",i.scene="WXSenceTimeline",i.type=0,i.imageUrl=o.imgUrl||"",t.share(i);break;case 2:i.provider="qq",i.type=1,i.imageUrl=o.imgUrl||"",t.share(i);break;case 3:t.setClipboardData({data:o.href,complete:function(){t.showToast({title:"已复制到剪贴板"})}});break;case 4:plus.share.sendWithSystem({type:"web",title:o.title||"",thumbs:[o.imgUrl||""],href:o.href||"",content:o.desc||""});break}}),this.$nextTick(function(){i.shareObj.alphaBg.show(),i.shareObj.shareMenu.show()})}else t.navigateTo({url:"/pages/login/login",animationType:"slide-in-top"})},onLoad:function(e){var i=this;this.vodId=e.topicId,t.request({url:this.websiteUrl+"/api/discover/getRotTopicDesc?topicId="+this.vodId,success:function(t){0==t.data.status&&(i.task_basic_data=t.data,i.topic=t.data.topic,i.movieArr=t.data.movie,i.film_details=i.movieArr[i.current])}}),t.request({url:this.websiteUrl+"/api/discover/comment/list?topicId="+this.vodId,success:function(t){0==t.data.status&&(t.data.list.length>0?(i.commentData=t.data.list,i.commentListShow=!1):(i.commentData=[],i.commentListShow=!0))}});var n=t.getSystemInfoSync();this.style.pageHeight=n.windowHeight,this.style.contentViewHeight=n.windowHeight-t.getSystemInfoSync().screenWidth/750*110},methods:{getCurrent:function(t){this.current=t.detail.current,this.film_details=this.movieArr[this.current]},toplay:function(e){var i=e.target.dataset.id;t.navigateTo({url:"/pages/playPage/playPage?vodId="+i,animationType:"slide-in-right",animationDuration:300})},checkOtherComment:function(e){var i={data:[],commentId:e.commentId,vodId:this.vodId};e.commentObject&&(i.data=e.commentObject);JSON.stringify(i);t.navigateTo({url:"../../../pages/discover/topics/topics_details_comment?commentList="+JSON.stringify(i)})},toSendMessage:function(e){var i=this,n=this;1==this.currentCommentType&&(this.currentCommentId=0);var s={commentId:"",userId:this.$store.state.userInfo.userId,commentName:this.$store.state.userInfo.userName,commentRid:Number(this.vodId),commentContent:e.inputValue};t.request({url:this.websiteUrl+"/api/discover/inscomment",method:"POST",data:s,success:function(t){var s={commentContent:e.inputValue,commentId:t.data.commentId,commentMid:200,commentName:i.$store.state.userInfo.userName,commentObject:[],commentPid:i.currentCommentId,commentTime:c.getNowTime("yyyy-MM-dd hh:mm:ss"),userId:i.$store.state.userInfo.userId,userPortrait:i.$store.state.userImage.localImage};n.commentData.push(s),n.commentListShow=!1}})}}};e.default=u}).call(this,i("6e42")["default"],i("0de9")["default"])},4908:function(t,e,i){"use strict";(function(t){i("c5e3"),i("921b");n(i("66fd"));var e=n(i("bd84"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])},"76a2":function(t,e,i){},"7e5f":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},s=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s})},bd84:function(t,e,i){"use strict";i.r(e);var n=i("7e5f"),s=i("08d6");for(var a in s)"default"!==a&&function(t){i.d(e,t,function(){return s[t]})}(a);i("0b8e");var o=i("2877"),r=Object(o["a"])(s["default"],n["a"],n["b"],!1,null,null,null);e["default"]=r.exports}},[["4908","common/runtime","common/vendor"]]]);